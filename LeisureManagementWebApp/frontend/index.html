<!DOCTYPE html>
<html lang="en" ng-app="LMWebApp">

<head>
    <meta charset="UTF-8">
    <title>Leisure Management WebApp</title>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-sanitize.js"></script>
    <script src="LeisureManagementWebApp.js"></script>
</head>

<body>

<section ng-controller="WebAppController as wa_ctrl">
    <h3>Leisure Management WebApp</h3>
    <ul class="nav nav-tabs">
        <li class="{active:wa_ctrl.tab === $index}" ng-repeat="tab in tabs">
            <a href ng-click="wa_ctrl.selectTab($index)">{{tab.label}}</a></li>
        </li>
    </ul>

    <div class="wa_ctrl" ng-show="wa_ctrl.isSelected(0)">
        <div ng-repeat="attribute in attributes">
            <p>{{attribute}}: <input type="text" ng-model="list[$index]" /></p>
        </div>

        <button ng-click="postEntity(wa_ctrl.getSelected())">Submit</button>

        <p>attributes: {{ attributes }}</p>
        <p>list: {{ list }}</p>
        <p>test: {{ test }}</p>
    </div>

    <div class="wa_ctrl"  ng-show="wa_ctrl.isSelected(2)">
        <form>
            <input type="text" ng-model="search">
        </form>

        <table class="table" ng-repeat="table in tables">
            <tr>
                <th ng-repeat="column in table.cols">{{column}}</th>
            </tr>
            <!-- acces all rows in the "row"-section of tables (and filter them) -->
            <tr ng-repeat="row in table.rows | filter:search">
                <!-- for each key in the column-section of tables, try to access the according value of each row -->
                <td ng-repeat="column in table.cols">{{row[column]}}</td>
            </tr>
        </table>
    </div>

    <!-- TODO: proper (adapt dynamic tabs to view) ------------------->

    <div class="wa_ctrl" ng-show="wa_ctrl.isSelected(1)">
        <div ng-repeat="attribute in attributes">
            <p>{{attribute}}: <input type="text" ng-model="list[$index]" /></p>
        </div>

        <button ng-click="postEntity(wa_ctrl.getSelected())">Submit</button>

        <p>attributes: {{ attributes }}</p>
        <p>list: {{ list }}</p>
        <p>test: {{ test }}</p>
    </div>

    <div class="wa_ctrl"  ng-show="wa_ctrl.isSelected(3)">
        <form>
            <input type="text" ng-model="search">
        </form>

        <table class="table" ng-repeat="table in tables">
            <tr>
                <th ng-repeat="column in table.cols">{{column}}</th>
            </tr>
            <!-- acces all rows in the "row"-section of tables (and filter them) -->
            <tr ng-repeat="row in table.rows | filter:search">
                <!-- for each key in the column-section of tables, try to access the according value of each row -->
                <td ng-repeat="column in table.cols">{{row[column]}}</td>
            </tr>
        </table>
    </div>

    <!-- ------------------------------------------------------------>

    <p>Request Data: {{ request_data }}</p>

</section>

</body>
</html>